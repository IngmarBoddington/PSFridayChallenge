'use strict';

var events = require('./events');

function BackendRegistrationEvent(exitType, exitSubType, identifyingProperties, tracerVersion) {
  this['event_type'] = events.REGISTRATION_BACKEND_EVENT;
  this['exit_point_type'] = exitType;
  this['exit_point_sub_type'] = exitSubType;
  this['identifying_properties'] = parseIdentifyingProps(identifyingProperties);
  this['version'] = tracerVersion;
}
function parseIdentifyingProps(identifyingProperties) {
  var ipList = [];
  for (var identifyingProp in identifyingProperties) {
    ipList.push({
      'property': identifyingProp,
      'value': identifyingProperties[identifyingProp]
    })
  }
  return ipList;
}

exports.BackendRegistrationEvent = BackendRegistrationEvent;